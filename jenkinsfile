pipeline {
	agent any
	stages {
		stage('Build') { 
			tools {
				maven 'MAVEN_HOME'
        			jdk 'JAVA_HOME'
			}
			steps {
				powershell 'java -version'
				powershell 'mvn -version'
				powershell 'mvn -f happytrip-code/pom.xml clean install'

			}
		}
		
		stage('Deploy') {
			steps{
				echo "Deploying"
				deploy adapters: [tomcat9(credentialsId: '476ef20f-d63d-420a-aef1-4a3ddfa1a9c4', path: '', url: 'http://localhost:8080')], contextPath: 'Happytrip', war: '**/*.war'
			}
		}
	}
}
